angular.module("xiaomaiApp").controller("navCtrl",["$scope","$state",function(a,e){}]),angular.module("xiaomaiApp").controller("nav.headCtrl",["$scope","$state","schoolManager","xiaomaiLog",function(a,e,t,o){t.get().then(function(e){a.schoolname=e.collegeName}),a.gotoLocate=function(){o("m_b_31homepageswitchsch"),e.go("root.locate")},a.gotoFeedback=function(){o("m_b_31homepagefeedback"),e.go("root.feedback")}}]),angular.module("xiaomaiApp").controller("nav.listCtrl",["$scope","$state","xiaomaiService","schoolManager","xiaomaiCacheManager","xiaomaiMessageNotify","xiaomaiLog",function(a,e,t,o,c,i,n){a.navs=[],n("m_p_31homepage"),o.get().then(function(a){return t.fetchOne("navgatorlist",{collegeId:a.collegeId})}).then(function(e){a.navs=e.navigateItems,i.pub("navheightupdate","up","ready","",""),c.writeCache("navgatorlist",e)}),a.paths={0:"root.buy.nav.all",1:"root.buy.nav.recommend",2:"root.buy.nav.active",3:"root.buy.nav.category"},a.navChecked=function(e){var t=!1;switch(a.curpath){case"all":t=0==e.displayType;break;case"recommend":t=1==e.displayType;break;case"active":t=a.activityId==e.activityId;break;case"skactive":t=a.activityId==e.activityId;break;case"category":t=a.curcategoryId==e.categoryId}return t},a.$on("$stateChangeSuccess",function(e,t,o){a.type=o.type;var c=/nav\.(\w+)/,i=t.name.match(c);a.curcategoryId=o.categoryId,a.activityId=o.activityId,i&&i.length&&(a.curpath=i[1])});var r=function(a){var e={0:"m_b_31homepagetabhome",1:"m_b_31homepagetabrec",2:"m_b_31homepagetabactivity"+a.activityId,3:"m_b_31homepagetabcategory"+a.categoryId};n(e[a.displayType])};a.motherNavLog=function(a){n("m_b_31homepagetabmothernavi"),a.preventDefault(),a.stopPropagation()},a["goto"]=function(t,c){o.get().then(function(t){var o,i=t.collegeId,n=c.displayType;c.activityType;r(c),o=a.paths[n],e.go(o,{categoryId:c.categoryId,activityId:c.activityId,collegeId:i,showDetail:!1,showCart:!1})}),t.preventDefault(),t.stopPropagation()}}]);